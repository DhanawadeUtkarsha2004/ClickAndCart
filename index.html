<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" href="../static/style.css" />
    <link rel="shortcut icon" href="../assets/x-icon.png" type="image/x-icon">
    <title> Click & Cart | All In One</title>
  </head>
  <body>
    <nav>
      <div class="nav__header">
        <div class="nav__logo">
          <img src="../assets/Logo.png" alt="">
          
        </div>
        <div class="nav__menu__btn" id="menu-btn">
          <i class="ri-menu-line"></i>
        </div>
      </div>
      <ul class="nav__links" id="nav-links">
        <li><a href="#home">Home</a></li>
        <li><a href="#about">About</a></li>
        <li><a href="#product">Products</a></li>
        <li><a href="#contact">Contact</a></li>
        <li><a href="http://127.0.0.1:5001" target="_blank">Image Search</a></li>
        <li><a href="http://127.0.0.1:5002" target="_blank">Text Search</a></li>
        <li><a href="login.html" target="_blank">Wishlist</a></li>
        <!-- <li><a href="http://127.0.0.1:5000" target="_blank">TryOn</a></li> -->
        <li><a href="admin.html" target="_blank">Admin Panel</a></li>
      </ul>
      <div class="nav__search" id="nav-search">
        <input type="text" placeholder="Search" />
        <span><i class="ri-search-2-line"></i></span>
      </div>
    </nav>

    <header class="section__container header__container" id="home">
      <div class="header__image">
        <img src="../assets/headerr.jpg" alt="header" />
      </div>
      <div class="header__content">
        <div>
          <h1>Categories We Offer</h1>
          <p>üõí Groceries</p>
          <p>üì± Electronics </p>
          <p>üëó Fashion</p>
          <p>üè† Home Essentials</p>
          <p>üíÑ Beauty & Personal Care</p>
        </div>
      </div>
    </header>

    <section class="section__container deals__container">
      <div class="deals__card">
        <h2 class="section__header">Hot üî• deals for you</h2>
        <p>Online shopping for retail sales direct to consumers</p>
      </div>
      <div class="deals__card">
        <span><i class="ri-cash-line"></i></span>
        <h4>5% cashback</h4>
        <p>Earn a 5% cashback reward on every furniture purchase you make!</p>
      </div>
      <div class="deals__card">
        <span><i class="ri-calendar-schedule-line"></i></span>
        <h4>30 day terms</h4>
        <p>
          Take advantage of our 30-day payment terms, completely interest-free!
        </p>
      </div>
      <div class="deals__card">
        <span><i class="ri-money-rupee-circle-line"></i></span>
        <h4>Save money</h4>
        <p>
          Discover unbeatable prices and save big money on top-quality
          furniture!
        </p>
      </div>
    </section>

    <section class="section__container about__container" id="about">
      <div class="about__header">
        <div>
          <h2 class="section__header">About us</h2>
          <p class="section__description">
            At Click & Cart, we are committed to making shopping easier, faster, and more affordable for everyone. Our platform brings you a one-stop shopping experience, offering everything from groceries to electronics, fashion, and household essentials‚Äîall at your fingertips.
          </p>
        </div>
        <button class="about__btn">Learn More</button>
      </div>
        <div class="about__grid">
          <div class="about__card">
            <h3>1.</h3>
            <h4>Who we are</h4>
            <p>
              We are a dedicated team passionate about providing a seamless online shopping experience.
            </p>
          </div>
          <div class="about__card">
            <h3>2.</h3>
            <h4>What do we do</h4>
            <p>
              We offer a vast range of products across multiple categories, including groceries, electronics, fashion, beauty, and home essentials.
            </p>
          </div>
          <div class="about__card">
            <h3>3.</h3>
            <h4>How do we help</h4>
            <p>üõíEverything you need in one place.</p>
            <p>üöÄGet your orders delivered quickly.</p>
            <p>üí≥Multiple payment options for a smooth checkout.</p>
            <p>üéâSave more with our daily deals.</p>
          </div>
          <div class="about__card">
            <h3>4.</h3>
            <h4>Our Vision</h4>
            <p>
              To become the most trusted online marketplace, offering high-quality products at competitive prices while ensuring customer satisfaction and convenience.
            </p>
          </div>
        </div>
      </div>
    </section>

    <section class="section__container product__container" id="product">
      <h2 class="section__header">Products</h2>
      <div class="product__grid">
        <div class="product__card">
          <h4>Home Essentials</h4>
          <img src="../assets/product-1.png" alt="product" />
        </div>
        <div class="product__card">
          <h4>Shoes</h4>
          <img src="../assets/product-2.jpg" alt="product" />
        </div>
        <div class="product__card">
          <h4>Clothes</h4>
          <img src="../assets/product-3.jpg" alt="product" />
        </div>
        <div class="product__card">
          <h4>Jewellery</h4>
          <img src="../assets/product-4.jpg" alt="product" />
        </div>
        <div class="product__card">
          <h4>Stationery</h4>
          <img src="../assets/product-5.jpg" alt="product" />
        </div>
        <div class="product__card">
          <h4>Beauty Product</h4>
          <img src="../assets/product-6.jpg" alt="product" />
        </div>
      </div>
    </section>

    <section class="section__container client__container">
      <div class="client__content">
        <h2 class="section__header">What our happy clients say</h2>
        <p class="section__description">
          Highlighting Our Commitment to Quality, Exceptional
          Service, and Customer Satisfaction
        </p>
        
        <div class="swiper mySwiper">
          <div class="swiper-wrapper">
            
            <div class="swiper-slide">
              <div class="client__card">
                <img src="../assets/user-1.jpg" alt="user" />
                <div>
                  <p>"Amazing experience! The products are great, and the delivery was fast!"</p>
                  <h4>Rohan M.</h4>
                </div>
              </div>
            </div>
    
          <div class="swiper-slide">
              <div class="client__card">
                <img src="../assets/user-3.jpg" alt="user" />
                <div>
                  <p>"Super convenient and affordable! The discounts are amazing!"</p>
                  <h4>Rahul K.</h4>
                </div>
              </div>
          </div>
          
          <div class="swiper-slide">
            <div class="client__card">
              <img src="../assets/user-2.jpg" alt="user" />
              <div>
                <p>"Great customer service! My issue was resolved quickly. Really impressed!"</p>
                <h4>Priya S.</h4>
              </div>
            </div>
          </div> 
            
        <div class="swiper-pagination"></div>
        <div class="swiper-button-prev"></div>
        <div class="swiper-button-next"></div> 
      </div>   
        
    </section>
    

    <footer class="footer" id="contact">
      <div class="section__container footer__container">
        <div class="footer__col">
          <div class="footer__logo">
            <a href="#" class="logo">Click & Cart</a>
          </div>
          <p>
           Start shopping with Online D-Mart and enjoy a new era of online retail!

           Let me know if you need modifications or additional sections. üöÄ
          </p>
          <ul class="footer__socials">
            <li>
              <a href="#"><i class="ri-facebook-fill"></i></a>
            </li>
            <li>
              <a href="#"><i class="ri-twitter-fill"></i></a>
            </li>


          </ul>
        </div>
        <div class="footer__col">
          <h4>Quick Links</h4>
          <ul class="footer__links">
            <li><a href="#">Contact Us</a></li>
            <li><a href="#">Press</a></li>
            <li><a href="#">Payrol</a></li>
            <li><a href="#">Library</a></li>
            <li><a href="#">Blog</a></li>
            <li><a href="#">Help Center</a></li>
          </ul>
        </div>
        <div class="footer__col">
          <h4>Customer Support</h4>
          <ul class="footer__links">
            <li><a href="#">Contact</a></li>
            <li><a href="#">Shipping & Delivery</a></li>
            <li><a href="#">Help Center</a></li>
            <li><a href="#">Terms & Conditions</a></li>
            <li><a href="#">Security</a></li>
          </ul>
        </div>
      </div>
      <div class="footer__bar">
        Copyright ¬© 2025 Click & Cart. All rights reserved.
      </div>
    </footer>

  
  </body>


  <script>
    document.addEventListener("DOMContentLoaded", function () {
        // Fetch wishlist items on page load
        fetch("/get-wishlist/")
        .then(response => response.json())
        .then(data => {
            let wishlistContainer = document.getElementById("cart-items");
            let totalPrice = document.getElementById("total");
            let total = 0;
    
            // Add each item in the wishlist to the page
            data.forEach(item => {
                let li = document.createElement("li");
                li.innerHTML = `
                    <img src="${item.image}" alt="${item.product_name}" class="cart-img">
                    <span>${item.product_name} - ‚Çπ${item.price}</span>
                `;
                wishlistContainer.appendChild(li);
                total += parseFloat(item.price);
            });
    
            // Display the total price of items in the wishlist
            totalPrice.textContent = total;
        });
    
        // Function to get the CSRF token from the cookies
        function getCookie(name) {
            let cookieValue = null;
            if (document.cookie && document.cookie !== '') {
                let cookies = document.cookie.split(';');
                for (let i = 0; i < cookies.length; i++) {
                    let cookie = cookies[i].trim();
                    if (cookie.substring(0, name.length + 1) === (name + '=')) {
                        cookieValue = decodeURIComponent(cookie.substring(name.length + 1));
                        break;
                    }
                }
            }
            return cookieValue;
        }
    
        // Add event listeners to all 'Add to Wishlist' buttons
        document.querySelectorAll(".add-to-wishlist").forEach(button => {
            button.addEventListener("click", function () {
                // Retrieve product details from the button's data attributes
                let productName = this.dataset.name;
                let price = this.dataset.price;
                let image = this.dataset.image;
    
                // Send a POST request to add the product to the wishlist
                fetch("/add-to-wishlist/", {
                    method: "POST",
                    headers: {
                        "Content-Type": "application/json",
                        "X-CSRFToken": getCookie("csrftoken")  // CSRF token for Django
                    },
                    body: JSON.stringify({ product_name: productName, price: price, image: image })
                })
                .then(response => response.json())
                .then(data => {
                    if (data.success) {
                        alert("Added to Wishlist!");
                        // Optionally, you can add the new item to the wishlist dynamically here
                        let li = document.createElement("li");
                        li.innerHTML = `
                            <img src="${image}" alt="${productName}" class="cart-img">
                            <span>${productName} - ‚Çπ${price}</span>
                        `;
                        wishlistContainer.appendChild(li);
                        total += parseFloat(price);
                        totalPrice.textContent = total;
                    } else {
                        alert("Failed to add. Try again!");
                    }
                })
                .catch(error => {
                    console.error("Error adding to wishlist:", error);
                    alert("An error occurred. Please try again.");
                });
            });
        });
    });
    </script>
    
</html>
